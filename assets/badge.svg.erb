<svg xmlns="http://www.w3.org/2000/svg" width="80" height="18">
  <linearGradient id="bg" x2="0" y2="100%">
    <stop offset="0" stop-color="#fff" stop-opacity=".7"/>
    <stop offset=".1" stop-color="#aaa" stop-opacity=".1"/>
    <stop offset=".9" stop-opacity=".3"/>
    <stop offset="1" stop-opacity=".5"/>
  </linearGradient>
  <rect rx="4" width="80" height="18" fill="#555"/>

    <linearGradient id="gradA" x2="0" y2="100%">
      <stop offset="0" stop-color="#66cc40" />
      <stop offset=".1" stop-color="#49c41a" />
      <stop offset=".5" stop-color="#46b01e" />
      <stop offset=".9" stop-color="#359710" />
      <stop offset="1" stop-color="#2c840b" />
    </linearGradient>
    <linearGradient id="gradB" x2="0" y2="100%">
      <stop offset="0" stop-color="#a5cb34" />
      <stop offset=".1" stop-color="#95c30c" />
      <stop offset=".5" stop-color="#87ae10" />
      <stop offset=".9" stop-color="#719604" />
      <stop offset="1" stop-color="#618200" />
    </linearGradient>
    <linearGradient id="gradC" x2="0" y2="100%">
      <stop offset="0" stop-color="#db7966" />
      <stop offset=".1" stop-color="#d75f49" />
      <stop offset=".5" stop-color="#c05946" />
      <stop offset=".9" stop-color="#a64735" />
      <stop offset="1" stop-color="#903b2c" />
    </linearGradient>
    <linearGradient id="gradU" x2="0" y2="100%">
      <stop offset="0" stop-color="#8f7eb4" />
      <stop offset=".1" stop-color="#8771b3" />
      <stop offset=".5" stop-color="#7a67a0" />
      <stop offset=".9" stop-color="#6a598d" />
      <stop offset="1" stop-color="#5f4f7d" />
    </linearGradient>

  <%
    bar_x = 34 + 3
    bar_x2 = 73 + 3
    x = 0
  %>
  <% @grades.each do |grade| %>
    <rect x="<%= bar_x+x %>" y="4" width="<%= grade.width %>" height="10" fill="url(#grad<%= grade.name %>)"/>
    <% x += grade.width %>
  <% end %>

  <rect x="<%= bar_x %>" y="4" width="1" height="1" fill="#666"/>
  <rect x="<%= bar_x %>" y="13" width="1" height="1" fill="#666"/>
  <rect x="<%= bar_x2 %>" y="4" width="1" height="1" fill="#666"/>
  <rect x="<%= bar_x2 %>" y="13" width="1" height="1" fill="#666"/>

  <rect rx="4" width="80" height="18" fill="url(#bg)"/>
  <g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11">
    <text x="18.5" y="13" fill="#010101" fill-opacity=".3">docs</text>
    <text x="18.5" y="12">docs</text>
  </g>
</svg>
